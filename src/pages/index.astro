---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<Layout title="Início">
	<section style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; padding: 1rem;">
		{posts.map((post) => (
			<article style="border: 1px solid #eee; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: transform 0.2s;" onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
				<a href={`/blog/${post.slug}/`} style="text-decoration: none; color: inherit;">
					<img src={post.data.heroImage} alt="" style="width: 100%; height: 200px; object-fit: cover;" />
					<div style="padding: 1.5rem;">
						<h2 style="margin: 0 0 10px 0; color: #333; font-size: 1.4rem;">{post.data.title}</h2>
						<p style="color: #666; line-height: 1.5; margin-bottom: 15px;">
							{post.data.description}... <strong>(continue lendo)</strong>
						</p>
						<span style="color: #007bff; font-weight: bold; text-decoration: underline;">Descobrir mais →</span>
					</div>
				</a>
			</article>
		))}
	</section>
</Layout>
